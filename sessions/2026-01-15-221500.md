# Session: 2026-01-15 22:15

## TL;DR
Fixed Supabase database connection issues after 3-hour debugging session, then documented the learnings as blog post and syllabus content.

## Accomplished
- Fixed corrupted `.env` file (had literal `\n` characters instead of newlines)
- Debugged Supabase connection issues (DNS, pooler auth, circuit breaker)
- Found correct connection string format for Supabase pooler
- Created blog post: `/blog-articles/supabase-connection-debugging/index.md`
- Updated syllabus Day 2 with detailed debugging guide
- Added learnings to CLAUDE.md (patterns, avoid list)
- Updated `/commit` skill confirmation - already pushes automatically

## Current State
Student portal is working. Database connects via Supabase pooler. All debugging learnings captured in 3 places (memory, blog, syllabus).

## Open Threads
- [ ] Clean up debug code if any remains in production
- [ ] Consider publishing the blog post to the website
- [ ] Test student portal with actual student accounts

## Decisions Made
- Use Supabase pooler (port 6543) instead of direct connection: More reliable for serverless
- Use passwords without special characters: Avoids URL encoding issues
- Document debugging lessons in syllabus: Students will face same issues

## Context for Next Session
The Supabase database password is now: `qHCLFUxcHJ1ZV7W1`
Connection string format: `postgresql://postgres.PROJECT:PASSWORD@aws-1-ap-south-1.pooler.supabase.com:6543/postgres`
The root .env and projects/code-zero-website/.env both need to stay in sync.

## Files Modified This Session
- `projects/code-zero-website/.env` - Fixed formatting, updated password and connection string
- `.env` (root) - Updated password and connection string
- `CLAUDE.md` - Added Supabase debugging learnings to Patterns That Work and Avoid sections
- `blog-articles/supabase-connection-debugging/index.md` - Created complete debugging guide
- `syllabus/week-1/day-2.md` - Added "Deep Dive: Supabase Connection Debugging" section
- `projects/code-zero-website/src/lib/server/db/index.ts` - Temporarily added debug, then cleaned up
- `projects/code-zero-website/src/routes/student-portal/+layout.server.ts` - Temporarily added debug, then cleaned up

## User Intent
Build and maintain the code:zero academy platform. Today's focus was getting the student portal working again after it mysteriously broke. User values turning debugging pain into teaching content.
